<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ðŸ“¸ Snapshot Gallery | Intrusion Detection System</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="stylesheet" href="/static/snapshots.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Page Header -->
        <div class="dashboard-header">
            <div class="logo-icon">
                <i class="fas fa-images"></i>
            </div>
            <h1>Snapshot Gallery</h1>
            <p class="subtitle">Review and manage detection snapshots</p>
            <div class="header-actions">
                <button id="themeToggle" class="btn btn-outline-light" title="Toggle Theme">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>

        <!-- Stats Cards -->
        <div class="row g-4 mb-5">
            <div class="col-md-3">
                <div class="card border-primary">
                    <div class="card-body text-center">
                        <i class="fas fa-camera" style="font-size: 2rem; color: #00d4ff;"></i>
                        <h3 id="totalSnapshots" class="fw-bold mt-3">0</h3>
                        <p class="text-muted mb-0">Total Snapshots</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card border-danger">
                    <div class="card-body text-center">
                        <i class="fas fa-exclamation-triangle" style="font-size: 2rem; color: #ef4444;"></i>
                        <h3 id="violationSnapshots" class="fw-bold mt-3">0</h3>
                        <p class="text-muted mb-0">Violation Snapshots</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card border-success">
                    <div class="card-body text-center">
                        <i class="fas fa-check-circle" style="font-size: 2rem; color: #22c55e;"></i>
                        <h3 id="safeSnapshots" class="fw-bold mt-3">0</h3>
                        <p class="text-muted mb-0">Safe Snapshots</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card border-warning">
                    <div class="card-body text-center">
                        <i class="fas fa-star" style="font-size: 2rem; color: #fbbf24;"></i>
                        <h3 id="selectedCount" class="fw-bold mt-3">0</h3>
                        <p class="text-muted mb-0">Selected</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toolbar -->
        <div class="snapshot-toolbar">
            <div class="toolbar-left">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Search snapshots...">
                </div>
                <select id="filterSelect" class="form-select">
                    <option value="all">All Snapshots</option>
                    <option value="violation">Violations Only</option>
                    <option value="safe">Safe Only</option>
                </select>
                <select id="sortSelect" class="form-select">
                    <option value="newest">Newest First</option>
                    <option value="oldest">Oldest First</option>
                </select>
            </div>
            <div class="toolbar-right">
                <button id="selectAllBtn" class="btn btn-outline-secondary">
                    <i class="fas fa-check-double"></i> Select All
                </button>
                <button id="deselectAllBtn" class="btn btn-outline-secondary">
                    <i class="fas fa-times"></i> Deselect All
                </button>
                <button id="downloadSelectedBtn" class="btn btn-success" disabled>
                    <i class="fas fa-download"></i> Download Selected
                </button>
                <button id="deleteSelectedBtn" class="btn btn-danger" disabled>
                    <i class="fas fa-trash"></i> Delete Selected
                </button>
            </div>
        </div>

        <!-- View Toggle -->
        <div class="view-toggle mb-4">
            <button id="gridViewBtn" class="btn btn-primary active">
                <i class="fas fa-th"></i> Grid
            </button>
            <button id="listViewBtn" class="btn btn-outline-secondary">
                <i class="fas fa-list"></i> List
            </button>
        </div>

        <!-- Loading State -->
        <div id="loadingState" class="loading-state">
            <div class="spinner"></div>
            <p>Loading snapshots...</p>
        </div>

        <!-- Empty State -->
        <div id="emptyState" class="empty-state" style="display: none;">
            <i class="fas fa-images"></i>
            <h3>No Snapshots Found</h3>
            <p>Detection snapshots will appear here when monitoring is active</p>
        </div>

        <!-- Snapshot Grid -->
        <div id="snapshotGrid" class="snapshot-grid"></div>

        <!-- Pagination -->
        <div id="pagination" class="pagination-container" style="display: none;">
            <nav aria-label="Snapshot pagination">
                <ul class="pagination justify-content-center">
                    <li class="page-item disabled" id="prevPage">
                        <a class="page-link" href="#" tabindex="-1">Previous</a>
                    </li>
                    <li class="page-item active"><a class="page-link" href="#">1</a></li>
                    <li class="page-item"><a class="page-link" href="#">2</a></li>
                    <li class="page-item"><a class="page-link" href="#">3</a></li>
                    <li class="page-item" id="nextPage">
                        <a class="page-link" href="#">Next</a>
                    </li>
                </ul>
            </nav>
        </div>

        <!-- Keyboard Shortcuts Help -->
        <div class="shortcuts-help">
            <h5><i class="fas fa-keyboard"></i> Keyboard Shortcuts</h5>
            <div class="shortcut-list">
                <span class="shortcut"><kbd>Space</kbd> Toggle selection</span>
                <span class="shortcut"><kbd>A</kbd> Select all</span>
                <span class="shortcut"><kbd>D</kbd> Deselect all</span>
                <span class="shortcut"><kbd>Del</kbd> Delete selected</span>
                <span class="shortcut"><kbd>Esc</kbd> Close modal</span>
                <span class="shortcut"><kbd>?</kbd> Show help</span>
            </div>
        </div>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox">
        <button id="lightboxClose" class="lightbox-close">
            <i class="fas fa-times"></i>
        </button>
        <button id="lightboxPrev" class="lightbox-nav">
            <i class="fas fa-chevron-left"></i>
        </button>
        <div class="lightbox-content">
            <img id="lightboxImage" src="" alt="Snapshot">
            <div class="lightbox-info">
                <h4 id="lightboxTitle"></h4>
                <p id="lightboxDetails"></p>
            </div>
        </div>
        <button id="lightboxNext" class="lightbox-nav">
            <i class="fas fa-chevron-right"></i>
        </button>
        <div class="lightbox-actions">
            <button id="lightboxDownload" class="btn btn-primary">
                <i class="fas fa-download"></i> Download
            </button>
            <button id="lightboxDelete" class="btn btn-danger">
                <i class="fas fa-trash"></i> Delete
            </button>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast">
        <i class="toast-icon"></i>
        <span class="toast-message"></span>
    </div>

    <script src="/static/snapshots.js"></script>
</body>
</html>

